<div class="container-fluid p-1 bg-info text-center">
    <h2>Bill Master</h2>
</div><br>
<div class="container justify">
    <button class="btn btn-primary" (click)="generateBill()">Generate Bill</button>
    <button class="btn btn-primary" (click)="generateReport()">Generate Report</button>
</div>

<div *ngIf="showBill" class="container">
    <div class="mt-4">
        <h3>Bill</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>Bill Id</th>
                    <th>Bill Amount</th>
                    <th>Ride Date</th>
                    <th>Source</th>
                    <th>Destination</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ tripBill.billId }}</td>
                    <td>{{ tripBill.bill }}</td>
                    <td>{{ tripBill.billDate }}</td>
                    <td>{{ tripBill.source }}</td>
                    <td>{{ tripBill.destination }}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div *ngIf="showTrips" class="container">
    <form [formGroup]="generateBillForm" (ngSubmit)="onSubmit()"
        class="text-center">
        <div class="form-group">
            <label for="month">Month:</label>
            <select id="month" formControlName="month" required
                class="form-control">
                <option value disabled selected>Select a month</option>
                <option value="1">January</option>
                <option value="2">February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
            </select>
            <div class="invalid-feedback"
                *ngIf="generateBillForm.get('month')?.invalid && (generateBillForm.get('month')?.dirty || generateBillForm.get('month')?.touched)">
                <div
                    *ngIf="generateBillForm.get('month')?.errors?.['required']">Month
                    is required.</div>
            </div>
        </div>
        <button type="submit" [disabled]="generateBillForm.invalid"
            class="btn btn-primary">Generate Report</button>
    </form>
    <div>
        <h3>Billing Information:</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>Bill Id</th>
                    <th>Bill Amount</th>
                    <th>Ride Date</th>
                    <th>Source</th>
                    <th>Destination</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let billing of billings">
                    <td>{{ billing.billId }}</td>
                    <td>{{ billing.bill }}</td>
                    <td>{{ billing.billDate }}</td>
                    <td>{{ billing.source }}</td>
                    <td>{{ billing.destination }}</td>
                </tr>
            </tbody>
        </table>
    </div>

</div>
